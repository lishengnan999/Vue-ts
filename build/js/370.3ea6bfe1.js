"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[370],{1900:function(e,t,a){a.d(t,{Z:function(){return S}});var n=a(6252),o=a(3577);const l={class:"page-content"},i={class:"handle-btns"};function s(e,t,a,s,r,p){const d=(0,n.up)("el-button"),c=(0,n.up)("hy-table");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n.Wm)(c,(0,n.dG)({listData:e.dataList,listCount:e.dataCount},e.contentTableConfig,{page:e.pageInfo,"onUpdate:page":t[0]||(t[0]=t=>e.pageInfo=t)}),(0,n.Nv)({headerHandler:(0,n.w5)((()=>[e.isCreate?((0,n.wg)(),(0,n.j4)(d,{key:0,type:"primary",size:"medium",onClick:e.handleNewClick},{default:(0,n.w5)((()=>[(0,n.Uk)(" 新建用户 ")])),_:1},8,["onClick"])):(0,n.kq)("",!0)])),status:(0,n.w5)((e=>[(0,n.Wm)(d,{plain:"",size:"mini",type:e.row.enable?"success":"danger"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e.row.enable?"启用":"禁用"),1)])),_:2},1032,["type"])])),createAt:(0,n.w5)((t=>[(0,n._)("span",null,(0,o.zw)(e.$filters.formatTime(t.row.createAt)),1)])),updateAt:(0,n.w5)((t=>[(0,n._)("span",null,(0,o.zw)(e.$filters.formatTime(t.row.updateAt)),1)])),handler:(0,n.w5)((t=>[(0,n._)("div",i,[e.isUpdate?((0,n.wg)(),(0,n.j4)(d,{key:0,icon:"el-icon-edit",size:"mini",type:"text",onClick:a=>e.handleEditClick(t.row)},{default:(0,n.w5)((()=>[(0,n.Uk)(" 编辑 ")])),_:2},1032,["onClick"])):(0,n.kq)("",!0),e.isDelete?((0,n.wg)(),(0,n.j4)(d,{key:1,icon:"el-icon-delete",size:"mini",type:"text",onClick:a=>e.handleDeleteClick(t.row)},{default:(0,n.w5)((()=>[(0,n.Uk)("删除")])),_:2},1032,["onClick"])):(0,n.kq)("",!0)])])),_:2},[(0,n.Ko)(e.otherPropSlots,(t=>({name:t.slotName,fn:(0,n.w5)((a=>[t.slotName?(0,n.WI)(e.$slots,t.slotName,{key:0,row:a.row},void 0,!0):(0,n.kq)("",!0)]))})))]),1040,["listData","listCount","page"])])}var r=a(2262),p=a(1272);function d(e,t){const a=(0,p.oR)(),n=a.state.login.permissions,o=`system:${e}:${t}`;return!!n.find((e=>e===o))}const c={class:"hy-table"},u={class:"header"},g={class:"title"},m={class:"handler"},h={key:0,class:"footer"};function w(e,t,a,l,i,s){const r=(0,n.up)("el-table-column"),p=(0,n.up)("el-table"),d=(0,n.up)("el-pagination");return(0,n.wg)(),(0,n.iD)("div",c,[(0,n._)("div",u,[(0,n.WI)(e.$slots,"header",{},(()=>[(0,n._)("div",g,(0,o.zw)(e.title),1),(0,n._)("div",m,[(0,n.WI)(e.$slots,"headerHandler",{},void 0,!0)])]),!0)]),(0,n.Wm)(p,(0,n.dG)({data:e.listData,border:"",style:{width:"100%"},onSelectionChange:e.handleSelectionChange},e.childrenProps),{default:(0,n.w5)((()=>[e.showSelectColumn?((0,n.wg)(),(0,n.j4)(r,{key:0,type:"selection",align:"center",width:"60"})):(0,n.kq)("",!0),e.showIndexColumn?((0,n.wg)(),(0,n.j4)(r,{key:1,type:"index",label:"序号",align:"center",width:"80"})):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.propList,(t=>((0,n.wg)(),(0,n.j4)(r,(0,n.dG)({key:t.prop},t,{align:"center","show-overflow-tooltip":""}),{default:(0,n.w5)((a=>[(0,n.WI)(e.$slots,t.slotName,{row:a.row},(()=>[(0,n.Uk)((0,o.zw)(a.row[t.prop]),1)]),!0)])),_:2},1040)))),128))])),_:3},16,["data","onSelectionChange"]),e.showFooter?((0,n.wg)(),(0,n.iD)("div",h,[(0,n.WI)(e.$slots,"footer",{},(()=>[(0,n.Wm)(d,{onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange,"current-page":e.page.currentPage,"page-size":e.page.pageSize,"page-sizes":[10,20,30],layout:"total, sizes, prev, pager, next, jumper",total:e.listCount},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])]),!0)])):(0,n.kq)("",!0)])}var C=(0,n.aZ)({props:{title:{type:String,default:""},listData:{type:Array,required:!0},listCount:{type:Number,default:0},propList:{type:Array,required:!0},showIndexColumn:{type:Boolean,default:!1},showSelectColumn:{type:Boolean,default:!1},page:{type:Object,default:()=>({currentPage:0,pageSize:10})},childrenProps:{type:Object,default:()=>({})},showFooter:{type:Boolean,default:!0}},emits:["selectionChange","update:page"],setup(e,{emit:t}){const a=e=>{t("selectionChange",e)},n=a=>{t("update:page",Object.assign(Object.assign({},e.page),{currentPage:a}))},o=a=>{t("update:page",Object.assign(Object.assign({},e.page),{pageSize:a}))};return{handleSelectionChange:a,handleCurrentChange:n,handleSizeChange:o}}}),f=a(3744);const y=(0,f.Z)(C,[["render",w],["__scopeId","data-v-35294229"]]);var k=y,b=k,v=(0,n.aZ)({components:{HyTable:b},props:{contentTableConfig:{type:Object,require:!0},pageName:{type:String,required:!0}},emits:["newBtnClick","editBtnClick"],setup(e,{emit:t}){var a;const o=(0,p.oR)(),l=d(e.pageName,"create"),i=d(e.pageName,"update"),s=d(e.pageName,"delete"),c=d(e.pageName,"query"),u=(0,r.iH)({currentPage:1,pageSize:10});(0,n.YP)(u,(()=>g()));const g=(t={})=>{c&&o.dispatch("system/getPageListAction",{pageName:e.pageName,queryInfo:Object.assign({offset:(u.value.currentPage-1)*u.value.pageSize,size:u.value.pageSize},t)})};g();const m=(0,n.Fl)((()=>o.getters["system/pageListData"](e.pageName))),h=(0,n.Fl)((()=>o.getters["system/pageListCount"](e.pageName))),w=null===(a=e.contentTableConfig)||void 0===a?void 0:a.propList.filter((e=>"status"!==e.slotName&&("createAt"!==e.slotName&&("updateAt"!==e.slotName&&"handler"!==e.slotName)))),C=t=>{console.log(t),o.dispatch("system/deletePageDataAction",{pageName:e.pageName,id:t.id})},f=()=>{t("newBtnClick")},y=e=>{t("editBtnClick",e)};return{dataList:m,getPageData:g,dataCount:h,pageInfo:u,otherPropSlots:w,isCreate:l,isUpdate:i,isDelete:s,handleDeleteClick:C,handleNewClick:f,handleEditClick:y}}});const N=(0,f.Z)(v,[["render",s],["__scopeId","data-v-750c3f97"]]);var z=N,S=z},370:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var n=a(6252);const o={class:"menu"};function l(e,t,a,l,i,s){const r=(0,n.up)("page-content");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n.Wm)(r,{contentTableConfig:e.contentTableConfig,pageName:"menu"},null,8,["contentTableConfig"])])}var i=a(1900);const s={title:"菜单列表",propList:[{prop:"name",label:"菜单名称",minWidth:"100"},{prop:"type",label:"类型",minWidth:"60"},{prop:"url",label:"菜单url",minWidth:"100"},{prop:"icon",label:"菜单icon",minWidth:"100"},{prop:"permission",label:"按钮权限",minWidth:"100"},{prop:"createAt",label:"创建时间",minWidth:"220",slotName:"createAt"},{prop:"updateAt",label:"更新时间",minWidth:"220",slotName:"updateAt"},{label:"操作",minWidth:"120",slotName:"handler"}],showIndexColumn:!1,showSelectColumn:!1,childrenProps:{rowKey:"id",treeProp:{children:"children"}},showFooter:!1};var r=(0,n.aZ)({name:"hy-menu",components:{PageContent:i.Z},setup(){return{contentTableConfig:s}}}),p=a(3744);const d=(0,p.Z)(r,[["render",l]]);var c=d}}]);
//# sourceMappingURL=370.3ea6bfe1.js.map